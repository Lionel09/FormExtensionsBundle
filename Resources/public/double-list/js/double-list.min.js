!function(t,e,i){function n(e,i){this.element=e,this.options=t.extend({},l,i),this._defaults=l,this._name=s,this._init()}var s="doubleList",l=(e.document,{});n.prototype={_init:function(){var e=this;this.$widgetContainer=t("#"+this.element.id+"_widget_container"),this.$unselectedList=t("#"+this.element.id+"_unselected"),this.$selectedList=t("#"+this.element.id+"_selected"),this.$unselectedButton=this.$widgetContainer.find(".list-controls .unselect"),this.$selectedButton=this.$widgetContainer.find(".list-controls .select"),this.$form=this.$widgetContainer.closest("form"),this.$unselectedButton.click(function(){e._onUnselect()}),this.$widgetContainer.find("ul li a").click(function(e){e.preventDefault(),t(this).closest("li").toggleClass("selected")}),this.$selectedButton.click(function(){e._onSelect()}),this.$form.submit(function(){e._onSubmit()})},_onUnselect:function(){var e=this;t.each(this.$selectedList.children("li"),function(i,n){t(n).hasClass("selected")&&(t(n).removeClass("selected"),t(n).appendTo(e.$unselectedList))})},_onSelect:function(){var e=this;t.each(this.$unselectedList.children("li"),function(i,n){t(n).hasClass("selected")&&(t(n).removeClass("selected"),t(n).appendTo(e.$selectedList))})},_onSubmit:function(){var e=this;t.each(this.$unselectedList.children("li"),function(i,n){var s=t(n).data("value");t(e.element).find('option[value="'+s+'"]').removeAttr("selected")}),t.each(this.$selectedList.children("li"),function(i,n){var s=t(n).data("value");t(e.element).find('option[value="'+s+'"]').attr("selected","selected")})}},t.fn[s]=function(e){var l=arguments;if(e===i||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var c;return this.each(function(){var i=t.data(this,"plugin_"+s);i instanceof n&&"function"==typeof i[e]&&(c=i[e].apply(i,Array.prototype.slice.call(l,1))),"destroy"===e&&t.data(this,"plugin_"+s,null)}),c!==i?c:this}}}(jQuery,window);
